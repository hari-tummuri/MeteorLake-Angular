<!-- <p>chat works!</p> -->
<app-navbar></app-navbar>
<div class="container p-0 mx-0">
  <!-- <app-navbar></app-navbar> -->
  <div class="row justify-content-between my-5">
    <div class="col-8 px-5" *ngIf="sumDoc == 'document'">
      <!-- <div id="pdfViewer">
        <object
          data="{{ path }}"
          type="application/pdf"
          width="50%"
          height="900px"
        >
        <embed src="IrusumallaSivaprasadResume.pdf" type="application/pdf" />
        </object>
      </div> -->
      <!-- <ngx-extended-pdf-viewer
        src="assets/Sample_doc.pdf"
        useBrowserLocale="true"
        height="80vh"
      ></ngx-extended-pdf-viewer> -->
      <object
        [data]="newpath"
        type="application/pdf"
        width="100%"
        height="600px"
      >
        <!-- <label for="document">{{ newpath }}</label> -->
        <iframe
          [src]="newpath"
          width="100%"
          height="600px"
          id="doc"
          style="border: none"
        >
          This browser does not support PDFs. Please download the PDF to view
          it:
          <a [href]="newpath">Download PDF</a>
        </iframe>
      </object>
      <div class="row my-3 w-50 m-auto">
        <button
          type="submit"
          class=""
          (click)="viewSummary()"
          *ngIf="sumDoc == 'document'"
        >
          Get summary
        </button>
      </div>
    </div>
    <div class="col-8 px-5" *ngIf="sumDoc == 'summary'">
      <h2>Summary</h2>
      <p>
        <!-- In publishing and graphic design, Lorem ipsum is a placeholder text
        commonly used to demonstrate the visual form of a document or a typeface
        without relying on meaningful content. Lorem ipsum may be used as a
        placeholder before the final copy is available. -->
        {{ summary }}
      </p>
      <div class="row my-3 w-50 m-auto">
        <button
          type="submit"
          class=""
          (click)="viewDocument()"
          *ngIf="sumDoc == 'summary'"
        >
          View Document
        </button>
      </div>
    </div>
    <div class="col-4">
      <h3 style="padding-left: 60px">Chat with the document</h3>
      <div class="chat-container">
        <div class="chat-history">
          <div *ngFor="let message of messages" class="message">
            <p>
              <strong>{{ message.user }}</strong
              >: {{ message.text }}
            </p>

            <!-- <p @spin>hari</p> -->
            <!-- <p *ngIf="message.user == 'User'">
                <strong>{{ message.user }}</strong
                >: {{ message.text }}
              </p> -->
          </div>
          <div class="d-flex align-items-center" *ngIf="loading == true">
            <strong>Agent : &nbsp;</strong>
            <div class="loader"></div>
            <!-- <div class="col-md-4 col-sm-6 grid-margin stretch-card">
              <div class="loader-demo-box">
                <div class="jumping-dots-loader">
                  <span></span> <span></span> <span></span>
                </div>
              </div>
            </div> -->
            <!-- <div class="spinner-grow spinner-grow-sm text-primary mx-1"></div>
            <div class="spinner-grow spinner-grow-sm text-warning mx-1"></div>
            <div class="spinner-grow spinner-grow-sm text-success mx-1"></div> -->
          </div>
        </div>
        <input
          [(ngModel)]="newMessage"
          (keyup.enter)="sendMessage()"
          placeholder="Type your message here..."
          class="form-control"
        />
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
